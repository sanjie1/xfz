function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=(e.attr("data-course-id"),cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"79abcb8072dc430d94a8ec069c36f280"}));a.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:videourl},success:function(e){if(200===e.code){var t=e.data.token;a.setToken(o.file,t)}else alert("token错误！")},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsInBsYXllciIsImN5YmVycGxheWVyIiwic2V0dXAiLCJ3aWR0aCIsImhlaWdodCIsImZpbGUiLCJpbWFnZSIsImF1dG9zdGFydCIsInN0cmV0Y2hpbmciLCJyZXBlYXQiLCJ2b2x1bWUiLCJjb250cm9scyIsInRva2VuRW5jcnlwdCIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJ2aWRlb3VybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJ0b2tlbiIsInNldFRva2VuIiwiYWxlcnQiLCJmYWlsIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwicnVuIiwidGhpcyJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsZ0JBR1RBLGFBQWFDLFVBQVVDLFdBQWEsV0FDaEMsSUFBSUMsRUFBZ0JDLEVBQUUsZUFDbEJDLEVBQVlGLEVBQWNHLEtBQUssa0JBQy9CQyxFQUFZSixFQUFjRyxLQUFLLGtCQUcvQkUsR0FGWUwsRUFBY0csS0FBSyxrQkFFdEJHLFlBQVksbUJBQW1CQyxNQUFNLENBQzFDQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVIsRUFDTlMsTUFBT1AsRUFDUFEsV0FBVyxFQUNYQyxXQUFZLFVBQ1pDLFFBQVEsRUFDUkMsT0FBUSxJQUNSQyxVQUFVLEVBRVZDLGNBQWMsRUFFZEMsR0FBSSxzQ0FHUmIsRUFBT2MsR0FBRyxhQUFhLFNBQVVDLEdBQ2hDLE9BQU9DLEtBQUtELEVBQUVWLE9BR2xCWSxRQUFRQyxJQUFJLENBRVJDLElBQU8sd0JBQ1BDLEtBQVEsQ0FDSkMsTUFBU0MsVUFFYkMsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3hCLEVBQU8wQixTQUFTWCxFQUFFVixLQUFLb0IsUUFFdkJFLE1BQU0sYUFHZEMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQU16QnJDLGFBQWFDLFVBQVV1QyxJQUFNLFdBQ3pCQyxLQUFLdkMsY0FJVEUsRUFBRSxZQUNxQixJQUFJSixjQUNWd0MiLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcbn1cclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUuaW5pdFBsYXllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB2aWRlb0luZm9TcGFuID0gJChcIiN2aWRlby1pbmZvXCIpO1xyXG4gICAgdmFyIHZpZGVvX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtdmlkZW8tdXJsXCIpO1xyXG4gICAgdmFyIGNvdmVyX3VybCA9IHZpZGVvSW5mb1NwYW4uYXR0cihcImRhdGEtY292ZXItdXJsXCIpO1xyXG4gICAgdmFyIGNvdXJzZV9pZCA9IHZpZGVvSW5mb1NwYW4uYXR0cignZGF0YS1jb3Vyc2UtaWQnKTtcclxuXHJcbiAgICB2YXIgcGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxyXG4gICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICAgICAgZmlsZTogdmlkZW9fdXJsLFxyXG4gICAgICAgICAgICBpbWFnZTogY292ZXJfdXJsLFxyXG4gICAgICAgICAgICBhdXRvc3RhcnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcclxuICAgICAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICAgICAgdm9sdW1lOiAxMDAsXHJcbiAgICAgICAgICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyBwcmltYXJ5OiBcImZsYXNoXCIsXHJcbiAgICAgICAgICAgIHRva2VuRW5jcnlwdDogdHJ1ZSxcclxuICAgICAgICAgICAgLy8gQWNjZXNzS2V5XHJcbiAgICAgICAgICAgIGFrOiAnNzlhYmNiODA3MmRjNDMwZDk0YThlYzA2OWMzNmYyODAnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBsYXllci5vbignYmVmb3JlUGxheScsZnVuY3Rpb24gKGUpIHtcclxuICAgICBpZighL20zdTgvLnRlc3QoZS5maWxlKSl7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICB9XHJcbiAgICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICAvLyDojrflj5Z0b2tlbueahHVybFxyXG4gICAgICAgICAndXJsJzogJy9jb3Vyc2UvY291cnNlX3Rva2VuLycsXHJcbiAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgJ3ZpZGVvJzogdmlkZW91cmxcclxuICAgICAgICAgfSxcclxuICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLHRva2VuKTtcclxuICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgIGFsZXJ0KCd0b2tlbumUmeivr++8gScpO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICB9LFxyXG4gICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICB9XHJcbiAgICAgfSk7XHJcbiB9KTtcclxufTtcclxuXHJcbkNvdXJzZURldGFpbC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5pbml0UGxheWVyKCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY291cnNlRGV0YWlsID0gbmV3IENvdXJzZURldGFpbCgpO1xyXG4gICAgY291cnNlRGV0YWlsLnJ1bigpO1xyXG59KTtcclxuIl19
